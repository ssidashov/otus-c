# Приложение-конвертер из заданной кодировки (одна из cp-1251, koi8-r, iso-8859-5) в utf-8.

Может быть использовано для перекодировки заданного файла или текста из stdin. Результат перекодировки в utf-8 можно вывести в файл или на stdout.  
Архитектурно состоит из программы, которая читает файлы и выводит результат, перекодировщика utf8translator, вызываемого программой через публичный api, а также spi, который должен использоваться реализацией алгоритма перекодировки для конкретной кодировки.  
Для того, чтобы отделить публичный API перкодировщика от SPI и внутренних структур используется Incomplete Type, для сокрытия внутренних структур.  
Приложение регистрирует кодировки при старте в перекодировщике, затем вызывает перекодировщик, который делегирует определение Unicode Codepoint по символу к конкретной кодировке, а затем использует данный Codepoint для преобразования в utf8 (два шага - символ кодировки -=[конкретная реализация кодировки]=> Unicode Codepoint -=[общий алгоритм перекодировщика]=> Utf8 bytes).  

## Сборка
    make clean; make;
Результат сборки (исполняемый файл) создается в директории ./bin
## Использование
    ./iconv <код_кодировки> [входной файл] [файл с результатом]
### Доступные кодировки:
  - cp1251
  - koi8-r
  - iso-8859-5  
Может быть вызван с stdin в качестве источника текста и stdout в качестве приемника результата. Для этого нужно либо указать символ "-" в качестве имени файла, либо опустить соотвествующее имя.
### Примеры:
    ./iconv cp1251 ../cp1251.txt
Выводит на stdout текст в utf8, перекодированный из текста cp1251 из файла cp1251.txt.

    ./iconv koi8-r ../koi8.txt ../koi8toutf8.txt
Осуществляет перекодировку из файла в koi8-r в файл в utf8.

    ./iconv iso-8859-5 - -
Считывает из stdin текст в iso-8859-5 и записывает его в stdout.

    cat ../cp1251.txt | ./iconv cp1251 - -
Другой способ чтения из файла и вывода в stdout.
